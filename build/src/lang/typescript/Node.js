"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const range_1 = require("../../utils/range");
const xdoc_parser_1 = require("xdoc-parser");
const text_1 = require("../../utils/text");
function createNode(file, node, properties, document) {
    let node_ = Object.assign({}, range_1.default(node), { text: text_1.text(file, node) });
    if (properties) {
        node_ = Object.assign(node_, { properties });
    }
    if (document) {
        node_ = Object.assign(node_, { xdoc: xdoc_parser_1.default(node_.text).parse() });
    }
    return node_;
}
exports.createNode = createNode;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTm9kZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9sYW5nL3R5cGVzY3JpcHQvTm9kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLDZDQUFzQztBQUN0Qyw2Q0FBK0I7QUFJL0IsMkNBQXdDO0FBWXhDLFNBQWdCLFVBQVUsQ0FDeEIsSUFBWSxFQUNaLElBQWdCLEVBQ2hCLFVBQW9DLEVBQ3BDLFFBQWtCO0lBR2xCLElBQUksS0FBSyxxQkFBUSxlQUFLLENBQUMsSUFBSSxDQUFDLElBQUUsSUFBSSxFQUFFLFdBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUUsQ0FBQTtJQUV0RCxJQUFJLFVBQVUsRUFBRTtRQUNkLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUE7S0FDN0M7SUFFRCxJQUFJLFFBQVEsRUFBRTtRQUNaLEtBQUssR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxxQkFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUE7S0FDakU7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFqQkQsZ0NBaUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRleHRSYW5nZSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9UZXh0UmFuZ2VcIjtcbmltcG9ydCB7IFN5bnRheE5vZGUgfSBmcm9tIFwidHJlZS1zaXR0ZXJcIjtcbmltcG9ydCByYW5nZSBmcm9tIFwiLi4vLi4vdXRpbHMvcmFuZ2VcIjtcbmltcG9ydCB4ZG9jIGZyb20gJ3hkb2MtcGFyc2VyJztcbmltcG9ydCB7IERvY3VtZW50YXRpb25Ob2RlIH0gZnJvbSAneGRvYy1wYXJzZXIvc3JjL1hEb2NBU1ROb2RlJztcbmltcG9ydCB7IFJlbWFya05vZGUgfSBmcm9tICd4ZG9jLXBhcnNlci9zcmMvWERvY1BhcnNlcic7XG5pbXBvcnQgU291cmNlIGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL1NvdXJjZVwiO1xuaW1wb3J0IHsgdGV4dCB9IGZyb20gXCIuLi8uLi91dGlscy90ZXh0XCI7XG5cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlIGV4dGVuZHMgVGV4dFJhbmdlIHtcbiAgdGV4dDogc3RyaW5nLFxuICBwcm9wZXJ0aWVzPzogUGFydGlhbDxOb2RlUHJvcGVydGllcz5cbiAgeGRvYz86IHtcbiAgICBtYXJrZG93bjogUmVtYXJrTm9kZSxcbiAgICBkb2N1bWVudGF0aW9uOiBQYXJ0aWFsPERvY3VtZW50YXRpb25Ob2RlPlxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb2RlKFxuICBmaWxlOiBTb3VyY2UsIFxuICBub2RlOiBTeW50YXhOb2RlLCBcbiAgcHJvcGVydGllcz86IFBhcnRpYWw8Tm9kZVByb3BlcnRpZXM+LFxuICBkb2N1bWVudD86IGJvb2xlYW4sXG4pOiBOb2RlIHtcblxuICBsZXQgbm9kZV8gPSB7IC4uLnJhbmdlKG5vZGUpLCB0ZXh0OiB0ZXh0KGZpbGUsIG5vZGUpIH1cblxuICBpZiAocHJvcGVydGllcykge1xuICAgIG5vZGVfID0gT2JqZWN0LmFzc2lnbihub2RlXywgeyBwcm9wZXJ0aWVzIH0pXG4gIH1cbiAgXG4gIGlmIChkb2N1bWVudCkge1xuICAgIG5vZGVfID0gT2JqZWN0LmFzc2lnbihub2RlXywgeyB4ZG9jOiB4ZG9jKG5vZGVfLnRleHQpLnBhcnNlKCkgfSlcbiAgfVxuICByZXR1cm4gbm9kZV87XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZVByb3BlcnRpZXMge1xuICBleHBvcnRzOiBQYXJ0aWFsPE5vZGVFeHBvcnRzPlxuICBpbmhlcml0YW5jZTogUGFydGlhbDxOb2RlSW5oZXJpdGFuY2U+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9kZUV4cG9ydHMge1xuICBleHBvcnQ6IGJvb2xlYW4sXG4gIGRlZmF1bHQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb2RlSW5oZXJpdGFuY2Uge1xuICBleHRlbmRzOiBib29sZWFuLFxuICBpbXBsZW1lbnRzOiBib29sZWFuXG59Il19