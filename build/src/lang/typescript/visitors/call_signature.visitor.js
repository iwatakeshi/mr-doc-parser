"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const formal_parameters_visitor_1 = require("./formal_parameters.visitor");
const type_visitor_1 = require("./type.visitor");
const match_1 = require("../../../utils/match");
const type_parameters_visitor_1 = require("./type_parameters.visitor");
function visitCallSignature(source, node) {
    let call_signature = node.children, type_parameters, formal_parameters, type_annotation;
    if (match_1.default(call_signature[0], 'type_parameters')) {
        type_parameters = type_parameters_visitor_1.default(source, call_signature.shift());
    }
    if (match_1.default(call_signature[0], 'formal_parameters')) {
        formal_parameters = formal_parameters_visitor_1.visitFormalParameters(source, call_signature.shift());
    }
    if (match_1.default(call_signature[0], 'type_annotation')) {
        let type = call_signature.shift().children[1];
        type_annotation = type_visitor_1.visitType(source, type);
    }
    return { type_parameters, formal_parameters, type_annotation };
}
exports.visitCallSignature = visitCallSignature;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FsbF9zaWduYXR1cmUudmlzaXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9sYW5nL3R5cGVzY3JpcHQvdmlzaXRvcnMvY2FsbF9zaWduYXR1cmUudmlzaXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDJFQUFvRTtBQUNwRSxpREFBMkM7QUFFM0MsZ0RBQXlDO0FBQ3pDLHVFQUE0RDtBQUU1RCxTQUFnQixrQkFBa0IsQ0FBQyxNQUFjLEVBQUUsSUFBZ0I7SUFFL0QsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFDbEMsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixlQUFlLENBQUM7SUFFaEIsSUFBSSxlQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFLGlCQUFpQixDQUFDLEVBQUU7UUFDN0MsZUFBZSxHQUFHLGlDQUFtQixDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztLQUN6RTtJQUVELElBQUksZUFBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxFQUFFO1FBQy9DLGlCQUFpQixHQUFHLGlEQUFxQixDQUFDLE1BQU0sRUFBRSxjQUFjLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztLQUM3RTtJQUVELElBQUksZUFBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxpQkFBaUIsQ0FBQyxFQUFFO1FBQzdDLElBQUksSUFBSSxHQUFHLGNBQWMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsZUFBZSxHQUFHLHdCQUFTLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzdDO0lBRUQsT0FBTyxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsQ0FBQTtBQUVsRSxDQUFDO0FBdEJELGdEQXNCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN5bnRheE5vZGUgfSBmcm9tIFwidHJlZS1zaXR0ZXJcIjtcbmltcG9ydCB7IHZpc2l0Rm9ybWFsUGFyYW1ldGVycyB9IGZyb20gXCIuL2Zvcm1hbF9wYXJhbWV0ZXJzLnZpc2l0b3JcIjtcbmltcG9ydCB7IHZpc2l0VHlwZSB9IGZyb20gXCIuL3R5cGUudmlzaXRvclwiO1xuaW1wb3J0IFNvdXJjZSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJmYWNlcy9Tb3VyY2VcIjtcbmltcG9ydCBtYXRjaCBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvbWF0Y2hcIjtcbmltcG9ydCB2aXNpdFR5cGVQYXJhbWV0ZXJzIGZyb20gXCIuL3R5cGVfcGFyYW1ldGVycy52aXNpdG9yXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiB2aXNpdENhbGxTaWduYXR1cmUoc291cmNlOiBTb3VyY2UsIG5vZGU6IFN5bnRheE5vZGUpIHtcblxuICAgIGxldCBjYWxsX3NpZ25hdHVyZSA9IG5vZGUuY2hpbGRyZW4sXG4gICAgdHlwZV9wYXJhbWV0ZXJzLFxuICAgIGZvcm1hbF9wYXJhbWV0ZXJzLFxuICAgIHR5cGVfYW5ub3RhdGlvbjtcblxuICAgIGlmIChtYXRjaChjYWxsX3NpZ25hdHVyZVswXSwgJ3R5cGVfcGFyYW1ldGVycycpKSB7XG4gICAgICAgIHR5cGVfcGFyYW1ldGVycyA9IHZpc2l0VHlwZVBhcmFtZXRlcnMoc291cmNlLCBjYWxsX3NpZ25hdHVyZS5zaGlmdCgpKTtcbiAgICB9XG5cbiAgICBpZiAobWF0Y2goY2FsbF9zaWduYXR1cmVbMF0sICdmb3JtYWxfcGFyYW1ldGVycycpKSB7XG4gICAgICAgIGZvcm1hbF9wYXJhbWV0ZXJzID0gdmlzaXRGb3JtYWxQYXJhbWV0ZXJzKHNvdXJjZSwgY2FsbF9zaWduYXR1cmUuc2hpZnQoKSk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoKGNhbGxfc2lnbmF0dXJlWzBdLCAndHlwZV9hbm5vdGF0aW9uJykpIHtcbiAgICAgICAgbGV0IHR5cGUgPSBjYWxsX3NpZ25hdHVyZS5zaGlmdCgpLmNoaWxkcmVuWzFdO1xuICAgICAgICB0eXBlX2Fubm90YXRpb24gPSB2aXNpdFR5cGUoc291cmNlLCB0eXBlKTtcbiAgICB9XG5cbiAgICByZXR1cm4geyB0eXBlX3BhcmFtZXRlcnMsIGZvcm1hbF9wYXJhbWV0ZXJzLCB0eXBlX2Fubm90YXRpb24gfVxuXG59Il19