"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const text_1 = require("../../utils/text");
const range_1 = require("../../utils/range");
const xdoc_parser_1 = require("xdoc-parser");
function createASTNode(source, node, arg1, arg2) {
    let context, children = [], document = typeof arg2 === 'boolean' && arg2 === true, properties;
    if (Array.isArray(arg1))
        children = arg1;
    else
        context = arg1;
    if (typeof arg2 === 'object') {
        properties = arg2;
    }
    return Object.assign({ type: node.type, text: text_1.text(source, node) }, range_1.default(node), { context,
        children, comment: document ? xdoc_parser_1.default(source.text).parse() : undefined, properties });
}
exports.createASTNode = createASTNode;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xhbmcvY29tbW9uL2FzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLDJDQUF3QztBQUN4Qyw2Q0FBc0M7QUFHdEMsNkNBQStCO0FBcUMvQixTQUFnQixhQUFhLENBQUMsTUFBYyxFQUFFLElBQWdCLEVBQUUsSUFBVSxFQUFFLElBQVU7SUFFcEYsSUFBSSxPQUFPLEVBQUUsUUFBUSxHQUFHLEVBQUUsRUFBRSxRQUFRLEdBQUcsT0FBTyxJQUFJLEtBQUssU0FBUyxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsVUFBVSxDQUFDO0lBQzlGLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFBRSxRQUFRLEdBQUcsSUFBSSxDQUFDOztRQUNwQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0lBRXBCLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQzVCLFVBQVUsR0FBRyxJQUFJLENBQUM7S0FDbkI7SUFFRCx1QkFDRSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFDZixJQUFJLEVBQUUsV0FBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFDckIsZUFBSyxDQUFDLElBQUksQ0FBQyxJQUNkLE9BQU87UUFDUCxRQUFRLEVBQ1IsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMscUJBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDekQsVUFBVSxJQUNYO0FBQ0gsQ0FBQztBQW5CRCxzQ0FtQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEb2N1bWVudGF0aW9uTm9kZSB9IGZyb20gJ3hkb2MtcGFyc2VyL3NyYy9YRG9jQVNUTm9kZSc7XG5pbXBvcnQgeyBSZW1hcmtOb2RlIH0gZnJvbSAneGRvYy1wYXJzZXIvc3JjL1hEb2NQYXJzZXInO1xuaW1wb3J0IHsgU3ludGF4Tm9kZSB9IGZyb20gXCJ0cmVlLXNpdHRlclwiO1xuaW1wb3J0IHsgdGV4dCB9IGZyb20gXCIuLi8uLi91dGlscy90ZXh0XCI7XG5pbXBvcnQgcmFuZ2UgZnJvbSBcIi4uLy4uL3V0aWxzL3JhbmdlXCI7XG5pbXBvcnQgU291cmNlIGZyb20gXCIuLi8uLi9pbnRlcmZhY2VzL1NvdXJjZVwiO1xuaW1wb3J0IFRleHRSYW5nZSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlcy9UZXh0UmFuZ2VcIjtcbmltcG9ydCB4ZG9jIGZyb20gJ3hkb2MtcGFyc2VyJztcblxuXG5leHBvcnQgaW50ZXJmYWNlIEFTVE5vZGUgZXh0ZW5kcyBUZXh0UmFuZ2Uge1xuICAvKipcbiAgICogQHByb3BlcnR5IC0gVGhlIHR5cGUgb2Ygbm9kZS5cbiAgICovXG4gIHR5cGU6IHN0cmluZyxcbiAgLyoqXG4gICAqIEBwcm9wZXJ0eSAtIFRoZSBjb250ZXh0IHN0cmluZy5cbiAgICovXG4gIHRleHQ6IHN0cmluZyxcbiAgLyoqXG4gICAqIEBwcm9wZXJ0eSAtIFRoZSBub2RlJ3MgY2hpbGRyZW4uXG4gICAqL1xuICBjaGlsZHJlbjogQVNUTm9kZVtdIHwgdW5kZWZpbmVkW10sXG4gIC8qKlxuICAgKiBAcHJvcGVydHkgLSBUaGUgY29udGV4dCBub2RlIHRoYXQgYSBjb21tZW50IG5vZGUgcmVmZXJzIHRvLlxuICAgKi9cbiAgY29udGV4dDogQVNUTm9kZSxcbiAgLyoqXG4gICAqIEBwcm9wZXJ0eSAtIFRoZSBwcm9wZXJ0aWVzIHRoYXQgYSBBU1ROb2RlIG1heSBwb3NzZXNzLlxuICAgKi9cbiAgcHJvcGVydGllcz86IG9iamVjdFxuICAvKipcbiAgICogQHByb3BlcnR5IC0gVGhlIHBhcnNlZCBYRG9jIGNvbW1lbnQuXG4gICAqL1xuICBjb21tZW50Pzoge1xuICAgIG1hcmtkb3duOiBSZW1hcmtOb2RlLFxuICAgIGRvY3VtZW50YXRpb246IFBhcnRpYWw8RG9jdW1lbnRhdGlvbk5vZGU+XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFTVE5vZGUoc291cmNlOiBTb3VyY2UsIG5vZGU6IFN5bnRheE5vZGUpOiBBU1ROb2RlXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQVNUTm9kZShzb3VyY2U6IFNvdXJjZSwgbm9kZTogU3ludGF4Tm9kZSwgY2hpbGRyZW46IG9iamVjdFtdKTogQVNUTm9kZVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFTVE5vZGUoc291cmNlOiBTb3VyY2UsIG5vZGU6IFN5bnRheE5vZGUsIGNoaWxkcmVuOiBvYmplY3RbXSwgcHJvcGVydGllczogb2JqZWN0KVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFTVE5vZGUoc291cmNlOiBTb3VyY2UsIG5vZGU6IFN5bnRheE5vZGUsIGNvbnRleHQ6IEFTVE5vZGUsIGRvY3VtZW50OiBib29sZWFuKTogQVNUTm9kZSBcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBU1ROb2RlKHNvdXJjZTogU291cmNlLCBub2RlOiBTeW50YXhOb2RlLCBhcmcxPzogYW55LCBhcmcyPzogYW55KTogQVNUTm9kZSB7XG5cbiAgbGV0IGNvbnRleHQsIGNoaWxkcmVuID0gW10sIGRvY3VtZW50ID0gdHlwZW9mIGFyZzIgPT09ICdib29sZWFuJyAmJiBhcmcyID09PSB0cnVlLCBwcm9wZXJ0aWVzO1xuICBpZiAoQXJyYXkuaXNBcnJheShhcmcxKSkgY2hpbGRyZW4gPSBhcmcxO1xuICBlbHNlIGNvbnRleHQgPSBhcmcxO1xuXG4gIGlmICh0eXBlb2YgYXJnMiA9PT0gJ29iamVjdCcpIHtcbiAgICBwcm9wZXJ0aWVzID0gYXJnMjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogbm9kZS50eXBlLFxuICAgIHRleHQ6IHRleHQoc291cmNlLCBub2RlKSxcbiAgICAuLi5yYW5nZShub2RlKSxcbiAgICBjb250ZXh0LFxuICAgIGNoaWxkcmVuLFxuICAgIGNvbW1lbnQ6IGRvY3VtZW50ID8geGRvYyhzb3VyY2UudGV4dCkucGFyc2UoKSA6IHVuZGVmaW5lZCxcbiAgICBwcm9wZXJ0aWVzLFxuICB9XG59XG4iXX0=